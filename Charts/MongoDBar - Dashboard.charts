{"exportVersion":5,"dashboards":{"dashboard-1":{"description":"","filters":[],"layout":[{"w":5,"h":2,"x":0,"y":0,"i":"item-1","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":4,"h":2,"x":5,"y":0,"i":"item-2","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":5,"h":2,"x":0,"y":2,"i":"item-3","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":4,"h":2,"x":5,"y":2,"i":"item-4","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":5,"h":3,"x":0,"y":4,"i":"item-5","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":2,"h":2,"x":5,"y":4,"i":"item-6","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true},{"w":6,"h":2,"x":5,"y":6,"i":"item-7","minW":1,"maxW":10,"minH":1,"maxH":10,"moved":false,"static":false,"isDraggable":true,"isResizable":true}],"title":"MongoDBar - Dashboard"}},"items":{"item-1":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"x":{"channelType":"category","field":"License Class Description","inferredType":"String","type":"nominal","isBinning":false},"y":{"channelType":"aggregation","field":"Domestic (D) or Imported (I)","inferredType":"String","type":"quantitative","aggregate":"count by value"}},"chartType":"Grouped Column","convertedFields":[],"customisations":{"options":{"dataValueLabels":{"enabled":false,"value":"value"}},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[{"fieldPath":"Domestic (D) or Imported (I)","type":"String","disabled":false,"settings":{"allOthers":true,"values":[null,"","F","G","S","1","U"]}}],"iconValue":"column-grouped","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Buy American - per liquor type","embedding":{}},"item-2":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"x":{"channelType":"aggregation","field":"bottle.Brand Label Name","inferredType":"String","type":"quantitative","aggregate":"count by value"}},"chartType":"Grouped Bar","convertedFields":[],"customisations":{"options":{},"axes":{"x":{}},"channels":{"x":{"labelOverride":{"enabled":true,"value":"Liquor"},"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"bar-grouped","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Shots per liquor","embedding":{}},"item-3":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"x":{"channelType":"category","field":"pourTime","inferredType":"Date","type":"nominal","isBinning":true,"temporalBinning":["day"]},"y":{"channelType":"aggregation","field":"pourOunces","inferredType":"Number","type":"quantitative","aggregate":"mean"}},"chartType":"Line","convertedFields":[],"customisations":{"options":{},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"dateTimeFormatting":{"enabled":true,"value":"dddd"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Average pours per day","embedding":{}},"item-4":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"y":{"channelType":"category","field":"bottle.Brand Label Name","inferredType":"String","type":"nominal","isBinning":false,"isLimiting":true,"limitingSize":"10","sort":{"axis":"Aggregated Value","order":"descending"}},"x":{"channelType":"aggregation","field":"ouncesRemaining","inferredType":"Number","type":"quantitative","aggregate":"sum"}},"chartType":"Grouped Bar","convertedFields":[],"customisations":{"options":{},"axes":{"x":{}},"channels":{"y":{"labelOverride":{"enabled":true,"value":"Bottle"}},"x":{"labelOverride":{"enabled":true,"value":"Oz Remaining"},"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"by bottle","filters":[],"iconValue":"bar-grouped","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Fl. oz. remaining","embedding":{"anonymousAuthEnabled":true,"anonymousAuthWhitelist":["bottle.Brand Label Name","location.barName"]}},"item-5":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"size":{"channelType":"aggregation","field":"Brand Label Name","inferredType":"String","type":"quantitative","aggregate":"distinct"},"geopoint":{"channelType":"geopoint","field":"location.geo","inferredType":"Number","type":"geospatial_array"},"color":{"channelType":"category","field":"location.barName","inferredType":"String","type":"nominal","isBinning":false}},"chartType":"Geospatial Scatter","convertedFields":[],"customisations":{"options":{"labelSize":{"enabled":true,"value":"133"},"markerOpacity":{"enabled":true,"value":"51"},"strokeThickness":{"enabled":true,"value":"3"}},"axes":{},"channels":{"size":{"labelOverride":{"enabled":true,"value":"Total bottles"},"numberFormatting":{"enabled":true,"value":"Custom"}},"geopoint":{},"color":{"labelOverride":{"enabled":true,"value":"Bar name"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"Bottles per Location","filters":[{"fieldPath":"Brand Label Name","type":"String","disabled":true,"settings":{"allOthers":true,"values":[]}}],"iconValue":"geo-scatter","itemType":"chart","lookupFields":[],"meta":{"indexes":{"channel":"geopoint","indexLong":0,"indexLat":1},"viewport":{"center":[12.498258273109542,-69.96917724609376],"zoom":12},"legends":{"min":1,"max":1}},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Bar Inventory","embedding":{"anonymousAuthEnabled":true,"anonymousAuthWhitelist":["location.barName","Brand Label Name"]}},"item-6":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"value":{"channelType":"aggregation","field":"ouncesRemaining","inferredType":"Number","type":"quantitative","aggregate":"sum"}},"chartType":"Number","convertedFields":[],"customisations":{"options":{},"axes":{},"channels":{"value":{"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"number","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"reductions":{},"sample":false,"title":"Ounces Poured To Date","embedding":{}},"item-7":{"allowInteractiveFilters":true,"calculatedFields":[],"channels":{"y":{"channelType":"aggregation","field":"pourOunces","inferredType":"Number","type":"quantitative","aggregate":"mean"},"color":{"channelType":"category","field":"bottle.Brand Label Name","inferredType":"String","type":"nominal","isBinning":false},"x":{"channelType":"category","field":"pourTime","inferredType":"Date","type":"nominal","isBinning":false,"temporalBinning":["year","month"]}},"chartType":"Line","convertedFields":[],"customisations":{"options":{},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"y":{"labelOverride":{"enabled":true,"value":"Ounces Poured"},"numberFormatting":{"enabled":true,"value":"Default"}},"color":{"labelOverride":{"enabled":true,"value":"Brand Label"}},"x":{"labelOverride":{"enabled":true,"value":"Time"},"datePreset":{"enabled":true,"value":"Custom"},"timePreset":{"enabled":true,"value":"Custom"},"dateTimeFormatting":{"enabled":true,"value":"hh:mm"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-2","description":"","filters":[],"iconValue":"line-discrete","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":"[{$setWindowFields: {\n  partitionBy: \"$bottle.Brand Label Name\",\n  sortBy: {\"pourTime\":1},\n  output: {\n    pourwindow: {\n       $avg: \"$pourOunces\",\n      window: {\n        range: [\"unbounded\", \"unbounded\"],\n        unit: \"hour\"\n      }\n    }\n  }\n}}, {$sort: {\n  pourTime: -1\n}}]","reductions":{},"sample":false,"title":"Window Function","embedding":{}}},"dataSources":{"data-source-1":{"alias":"mongodbar.inventory","collection":"inventory","database":"mongodbar","deployment":"Team4","sourceType":"cluster"},"data-source-2":{"alias":"mongodbar.pours","collection":"pours","database":"mongodbar","deployment":"Team4","sourceType":"cluster"}}}